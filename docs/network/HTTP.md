# Http

> HTTP 利用 TCP/IP 协议栈逐层打包再拆包



## Https（HTTP over SSL/TLS）

SSL/TLS 协议上的 HTTP, 给HTTP 套了一个安全的外壳。

## 域名系统（Domain Name System）

### 1. 域名的格式

> 级别从左到右逐级升高，层级从右到左依次递减，域名以`.`分割；
>
> 最左边为`主机名`, 例如`www：万维网服务`、`mail：邮件服务`等；

【主机名】.【...】.【二级域名】.【顶级域名】

```tex
// 主机名：www
// 二级域名：baidu
// 顶级域名：com
www.baidu.com
```

> 每个域名都是独一无二。
>
> Java的包机制使用的是域名的反序。

### 2. 域名解析

> 域名最终会被`DNS服务器`转成IP地址，这个过程就是`域名解析`。
>
> 域名解析的顺序：**从右到左**。

#### DNS服务器

* 根域名服务器（Root DNS Server）

  管理顶级域名服务器，返回顶级域名服务器（com、cn）的IP地址。

* 顶级域名服务器（Top-level DNS Server）

  管理各自域名下的权威域名服务器，`com顶级域名服务器`可以返回`baidu.com`域名服务器的IP地址。

* 权威域名服务器（Authoritative DNS Server）

  管理自己域名下主机的 IP 地址，`baidu.com权威域名服务器`可以返回`www.baidu.com`的IP地址。



## URI/URL

### 统一资源标识符：URI（Uniform Resource Identifier）

唯一的**标记**互联网上的资源。

```
http://a.b.com/cn/readme.html
```

* 协议名：即访问该资源应当使用的协议，在这里是`http`；
* 主机名：即互联网上主机的标记，可以是域名或 IP 地址，在这里是`a.b.com`；
* 路径：即资源在主机上的位置，使用`/`分隔多级目录，在这里是`/cn/readme.html`。



### 统一资源定位符：URL（Uniform Resource Locator）

即网址，它是URI的子集。



## 代理（Proxy）

> 可以转发客户端的请求，也可以转发服务器的应答。

### 分类

* 匿名代理：完全“隐匿”了被代理的机器，外界看到的只是代理服务器；
* 透明代理：顾名思义，它在传输过程中是“透明开放”的，外界既知道代理，也知道客户端；
* 正向代理：靠近客户端，代表客户端向服务器发送请求；
* 反向代理：靠近服务器端，代表服务器响应客户端的请求；

### 作用

* 负载均衡：把访问请求均匀分散到多台机器，实现访问集群化；
* 内容缓存：暂存上下行的数据，减轻后端的压力；
* 安全防护：隐匿 IP, 使用 WAF 等工具抵御网络攻击，保护被代理的机器；
* 数据处理：提供压缩、加密等额外的功能。