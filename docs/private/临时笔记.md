# 临时笔记



## 拦截器

>  拦截器：选择拦截点，利用拦截数据进行拦截操作。

### 拦截点

#### 拦截位置

* 方法调用
* 类初始化
* 对象实例化
* 异常处理

#### 拦截点元数据

> 利用反射等方式获取

* 执行方法
* 输入参数
* 目标返回

### 拦截操作





## 牛顿三大定律

### 第一定律（惯性定律）

> 任何物体都要保持匀速直线运动或静止状态，直到**外力**迫使它改变运动状态为止；
>
> 在没有外力作用下孤立质点保持静止或做匀速直线运动；

惯性维持物体的运动状态，而力会改变物体的运动状态。

### 第二定律（加速度定律）

> 物体的加速度跟物体所受的合外力成正比，跟物体的质量成反比，加速度的方向跟合外力的方向相同。

```tex
// 外力F, 时间变化dt,动量变化dp
F = dp/dt
```

### 第三定律（作用力于反作用力）

> 两个物体之间的作用力和反作用力，总是同时在同一条直线上，大小相等，方向相反。



## 缓存问题

缓存穿透：没有使用缓存，直接请求数据库。

缓存击穿：大量请求访问同一个点，导致缓存服务器被压垮。





## 卡特兰数(Catalan number)

> 又称**卡塔兰数**、**明安图数**



## 内存

LPDDR RAM，全称是“低功耗双倍数据速率内存”

以 LPDDR4 为例，带宽 = 时钟频率 × 内存总线位数 ÷ 8，即 1600 × 64 ÷ 8 = 12.8GB/s，因为是 DDR 内存是双倍速率，所以最后的带宽是 12.8 × 2 = 25.6GB/s。

![img](./%E4%B8%B4%E6%97%B6%E7%AC%94%E8%AE%B0.assets/2f26e93ac941f30bb4037648640aca44.png)





## Docker搭建WordPress

### 安装镜像

```shell
docker pull wordpress:5
docker pull mariadb:10
docker pull nginx:alpine
```



### 启动 MariaDB

```shell
docker run -d --rm \
    --env MARIADB_DATABASE=db \
    --env MARIADB_USER=wp \
    --env MARIADB_PASSWORD=123 \
    --env MARIADB_ROOT_PASSWORD=123 \
    mariadb:10
```

验证数据库是否正常：

```shell
# 登录数据库
docker exec -it 8f7 mysql -u wp -p

show databases;
show tables;

# 查看容器ip
docker inspect 8f7 |grep IPAddress
```



### 运行WordPress

WORDPRESS_DB_HOST = MariaDB的ip地址：

```shell
docker run -d --rm \
    --env WORDPRESS_DB_HOST=172.17.0.2 \
    --env WORDPRESS_DB_USER=wp \
    --env WORDPRESS_DB_PASSWORD=123 \
    --env WORDPRESS_DB_NAME=db \
    wordpress:5
```



### 配置Nginx反向代理

`wp.conf`配置, proxy_pass=WordPress的ip。

```nginx
server {
  listen 80;
  default_type text/html;

  location / {
      proxy_http_version 1.1;
      proxy_set_header Host $host;
      proxy_pass http://172.17.0.3;
  }
}
```

端口映射到 Nginx 容器内部的 80 端口：

```shell
docker run -d --rm \
    -p 80:80 \
    -v `pwd`/wp.conf:/etc/nginx/conf.d/default.conf \
    nginx:alpine
```





## backpressure（背压）

在数据流从上游生产者向下游消费者传输的过程中，上游生产速度大于下游消费速度，导致下游的 ``Buffer 溢出``，这种现象就叫做 ``Backpressure 出现``。 可理解为下游无法承受时的一种反馈机制
