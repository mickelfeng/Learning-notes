<!--![image](/Users/zaze/Documents/xuehai/documents/unify_login/resource/Untitled.jpg)

-->

#  统一登录方案

## 一、实现方案

使用 ContentProvider

1. 应用通过统一接口 获取session
2. 网络接口访问失败，并判断出为sessionFailed之后通过统一接口通知触发重新登录, 包括了统一的界面效果
3. 登录成功后通知应用， 应用可以监听广播做一定操作


## 二、集成方式

### Gradle

```
compile 'com.zhitongyun:xhprovider:1.0.3@aar'
```
	
## 三、API

### 获取Session

```
String session = CPVDGetter.getSession(context);

```


### Session失败通知触发重新登录

```
CPVDProcess.sessionFailed(context);

```

### 重新登录成功后的广播通知

广播注册下面action :

```
com.xuehai.cpvd.session.reset.success

```






